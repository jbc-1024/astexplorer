"use strict";var parse=function(r){var t=e("#langlist").querySelector(".active-lang").dataset.lang;return parserByLang(t)(r)},astFromCmCode=function(){var e=globalEditorGet().getValue();return parse(e)},activeModeName=function(){var r=e("#toolbar");return Array.from(r.querySelectorAll("button")).find(function(e){return e.classList.contains("active")}).dataset.mode},refreshTree=function(){var r=astFromCmCode();globalAstSet(r);var t=tagTree(r,[],null);e("#tree").innerHTML=t},refreshJson=function(){var r=e("#json"),t=CodeMirror(r,{lineNumbers:!0,indentUnit:2,styleActiveLine:!0,matchBrackets:!0,lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],readOnly:!0,mode:"application/json"}),n=astFromCmCode();globalAstSet(n);var a=JSON.stringify(n,null,2);t.setValue(a)},refresh=function(){var r=e("#display"),t=activeModeName();"tree"==t?(r.innerHTML='<div id="tree"></div>',refreshTree()):"json"==t&&(r.innerHTML='<div id="json"></div>',refreshJson())};