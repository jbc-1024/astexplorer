"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module))?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(v){v.registerGlobalHelper("fold","comment",function(e){return e.blockCommentStart&&e.blockCommentEnd},function(e,t){var o=e.getModeAt(t),n=o.blockCommentStart,r=o.blockCommentEnd;if(n&&r){for(var f,i=t.line,l=e.getLine(i),m=t.ch,c=0;;){var u=m<=0?-1:l.lastIndexOf(n,m-1);if(-1!=u){if(1==c&&u<t.ch)return;if(/comment/.test(e.getTokenTypeAt(v.Pos(i,u+1)))&&(0==u||l.slice(u-r.length,u)==r||!/comment/.test(e.getTokenTypeAt(v.Pos(i,u))))){f=u+n.length;break}m=u-1}else{if(1==c)return;c=1,m=l.length}}var d,y,b=1,p=e.lastLine();e:for(var s=i;s<=p;++s)for(var a=e.getLine(s),g=s==i?f:0;;){var h=a.indexOf(n,g),k=a.indexOf(r,g);if(h<0&&(h=a.length),k<0&&(k=a.length),(g=Math.min(h,k))==a.length)break;if(g==h)++b;else if(!--b){d=s,y=g;break e}++g}if(null!=d&&(i!=d||y!=f))return{from:v.Pos(i,f),to:v.Pos(d,y)}}})});